---
title: 6. Databases
layout: post
date: 15/12/21
---

### Database

- can handle large amount of data efficiently
- provide tools to insert, query and update data
- they offer security features
- they can scale well
- SQL: Structured Query Language, relational databases. Use tables. MySQL, Postgres, SQLite
- NoSQL: store information in xml, yaml, json. No tables or schema to follow. MongoDB, Redis, Neo4j

### MongoDB

- mongo is commonly used with node and express
- easy to start and poular
- [installation](https://zarkom.net/blogs/how-to-install-mongodb-for-development-in-windows-3328)
- multiple databases at the same time
- create a new db `use dbName` (won't appear until there is data in it)
- BSON binary json, more compact in memory

### MongoDB CRUD operations
[Resource](https://docs.mongodb.com/manual/crud/)

#### Create

- insert data in collections `db.dogs.insertOne({name: "Charlie", age:3, breed:"corgie", isFriendly: true})`
- `db.dogs.insert([{name: "Walt", breed: "Golden", age: 14}, {name: "Tonya", breed:"Chihua", age:17}])`
- `show collections`
- `db.dogs.find()`

#### Find

- `db.dogs.find({breed: "corgi"})`

#### Updating

- `db.dogs.updateOne({name: "Charlie"}, {$set: {age: 15}})`

#### Deleting

- `db.dogs.deleteOne({name: "Charlie"})`
- `db.dogs.deleteMany({})`

#### Additional operators

- for nested properties: `db.dogs.find({'personality.childFriendly': true})`
- for multiple properties: `db.dogs.find({'personality.childFriendly': true, age: 10})`
- comparison, logical operators [etc](https://docs.mongodb.com/manual/reference/operator/query/) `db.dogs.find({ age: {$gt:20} })`
- in operator: the value of a field equals any value in the specified array `db.dogs.find({breed: {$in ['Mutt', 'Corgi']}})`
- or `db.dogs.find({$or: [{'personality.catfirendly': true}, {age: {$lte:2}}]})`

### Mongoose
Connect node to MongoDB